<nb-card [nbSpinner]="loading">
  <nb-card-header>
    <div class="header-container">
      {{ isEditMode ? 'Doküman Düzenle' : 'Yeni Doküman' }}
      <button nbButton ghost status="basic" (click)="back()">
        <nb-icon icon="arrow-back-outline"></nb-icon> Geri
      </button>
    </div>
  </nb-card-header>
  <nb-card-body>
    <form (ngSubmit)="save()" #form="ngForm">
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="title" class="label">Başlık</label>
            <input nbInput fullWidth id="title" name="title" [(ngModel)]="document.title" required placeholder="Başlık giriniz">
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="slug" class="label">Slug (URL)</label>
            <input nbInput fullWidth id="slug" name="slug" [(ngModel)]="document.slug" required placeholder="ornek-dokuman-url">
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            <label for="language" class="label">Dil</label>
            <nb-select fullWidth id="language" name="language" [(ngModel)]="document.language" required>
              <nb-option *ngFor="let lang of languages" [value]="lang.value">{{ lang.title }}</nb-option>
            </nb-select>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            <label for="sortOrder" class="label">Sıralama</label>
            <input nbInput fullWidth type="number" id="sortOrder" name="sortOrder" [(ngModel)]="document.sortOrder">
          </div>
        </div>
      </div>

      <div class="form-group">
        <nb-checkbox name="isActive" [(ngModel)]="document.isActive">Aktif</nb-checkbox>
      </div>

      <div class="form-group">
        <label for="content" class="label">İçerik</label>
        <textarea nbInput fullWidth id="content" name="content" [(ngModel)]="document.content" rows="15" placeholder="Doküman içeriğini buraya giriniz..."></textarea>
      </div>

      <div class="buttons-row">
        <button type="submit" nbButton status="primary" [disabled]="!form.valid || loading">
          {{ isEditMode ? 'Güncelle' : 'Kaydet' }}
        </button>
        <button type="button" nbButton status="basic" (click)="back()" class="ml-2">İptal</button>
      </div>
    </form>
  </nb-card-body>
</nb-card>
